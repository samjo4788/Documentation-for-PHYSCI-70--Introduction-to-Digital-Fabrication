<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Theme Made By www.w3schools.com - No Copyright -->
  <title>SamJo/physci70</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="../style.css"/>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/arduino.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="../index.html">HOME</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://samjo4788.github.io/PHYSCI-70/About/indexA.html">ABOUT</a></li>
        <li><a href="https://samjo4788.github.io/PHYSCI-70/FinalProject/indexFP.html">FINAL PROJECT</a></li>
        <li><a href="https://nathanmelenbrink.github.io/ps70/index.html">COURSE SITE</a></li>
        <!--         <li><a href="#">WHERE</a></li> -->
      </ul>
    </div>
  </div>
</nav>


<!-- TITLE Container -->
<div class="container-fluid2 bg-9 text-center">
  <p><b>FINAL PROJECT: DanceGlove</b></p>
 <!--  <a href="#" class="btn btn-default btn-lg">
    <span class="glyphicon glyphicon-search"></span> Search
  </a> -->
</div>

<!-- INTRODUCTION -->
<div class="container-fluid bg-7 text-center">
  <p>My final project relates directly to my dissertation research on Irish dancers and the unique (and very musical) ways that they learn, remember, and communicate their dance steps. One technique that dancers use is hand dancing: dancers use their hands or fingers to mimic complex footwork choreography. The goal of this project was to create a pair of gloves that would collect movement information that could then be analyzed and manipulated to examine parameters such as rhythmicity, style, and which could be visualized in a way that can communicate this movement behavior independent of the use of video. The DanceGlove measures whole hand movements and proximity between the left and right hands (using IMU and Photoresistive sensors), and it also measures fine motor movements of the index and middle fingers on the right hand (using flex sensors and a circuit switch).</p>
  <p><iframe width="560" height="315" src="https://www.youtube.com/embed/pkDFMg0sEoE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>

</div>


<!-- WHAT DOES IT DO, DEMO & DATA VISUALIZATION -->
<div class="container-fluid bg-7">
<div class="row">
  <div class="col-sm-2">
    <p>HAND DANCE MODE</p>
  </div>
  <div class="col-sm-10">
    <p>The gloves use IMU and proximity sensors to measure movement information. Within the code, I wrapped the accelerometer and gyroscope data into a Madgwick filter so that it would produce values for pitch, yaw, and roll. I then analyzed this output for patterns. For both the right and left hands, the yaw data was mostly noise. This is not surprising as both hands stay pointed in mostly the same direction throughout a dance. The pitch information yielded the most obvious visual patterns, with the roll acting almost like a shadow to the pitch. </p>
    <p><iframe width="1011" height="371" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTVPpi1dzZWKcqDNf20a_4xfSoLqGysIEHHYhCQETUNlyXm8XHwa-qT4DwJJLJ-yBSA8CT83LCYCbce/pubchart?oid=1684965289&amp;format=interactive"></iframe></p>
  </div>
  </div>

<div class="row">
    <div class="col-sm-2">
      <p>FINGER DANCE MODE</p>
      <p><div style="width:100%;height:0;padding-bottom:62%;position:relative;"><iframe src="https://giphy.com/embed/pvM1Y4VBpWjQR4fPkT" width="100%" height="100%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div><p><a href="https://giphy.com/gifs/pvM1Y4VBpWjQR4fPkT">via GIPHY</a></p>
    </div>
  <div class="col-sm-10">
    <p><br>I used a basic switch-based circuit to sense when the index finger and middle finger made contact with the thumb. I also used flex sensors that covered the joints of each of these fingers. This data was a little more unwieldy than the IMU data. I believe that this information would be best parsed by a machine learning program. Nevertheless, I pursued some rudimentary visualizations in p5 to see if I could gain any interesting insights. While it was fun to play around with different triangles, the real-time graphic changes were not particularly informative.</p>
    
    </div>

</div>
</div>


<div class="container-fluid2 bg-9 text-center">
  <p><b>How It's Made</b></p>
</div>

<!-- MATERIALS & SKILLS-->
<div class="container-fluid bg-7">
  <p><h3><b>MATERIALS & SKILLS</b></h3></p>
<div class="row">
  <div class="col-sm-6">
  <p>ELECTRONICS
      <ul>
        <li>Whole-Hand Sensing</li>
        <ul>
          <li><a href="https://store.arduino.cc/usa/nano-33-ble-sense">2 x Arduino Nano 33 BLE Sense</a></li>
        </ul>
        <li>Finger Tap Sensing (2 fingers)</li>
          <ul>
          <li>1 x 1k Ohm Resistor</li>
          <li>1 x 4.7k Ohm Resistor</li>
          <li>1 x 10k Ohm Resistor</li>
          <li>Conductive Thread</li>
          <li>Solid Core Wire (30 AWG)</li>
          </ul>
        <li>Finger Joint Sensing (2 fingers)</li>
          <ul>
          <li><a href="https://www.adafruit.com/product/1361">Velostat</a></li>
          <li>Aluminum Foil</li>
          <li>2 x 1k Ohm Resistors</li>
          <li>Solid Core Wire (30 AWG)</li>
          <li><a href="https://www.adafruit.com/product/640">Conductive Thread, 2-ply</a></li>
          <li><a href="https://www.homedepot.com/p/3M-1-88-in-x-54-6-yds-Black-Premium-Matte-Cloth-Gaffers-Tape-GT2/302798748">Gaffer Tape</a></li>
          </ul>
        <li>Tools & Supplies</li>
        <ul>
          <li>Multimeter</li>
          <li>Soldering Iron & Solder</li>
          <li>Wire Trimmers</li>
          <li>Heat Shrink and/or Electrical Tape</li>
        </ul>
        </ul></p>
    </div>

    <div class="col-sm-6">
    <p>SEWING MATERIALS & TOOLS
      <ul>
        <li>Cotton fabric (36 cm square)</li>
        <li>Stretch (knit/lycra) fabric (approximately 0.5 yard)</li>
        <li>Felt or thin quilting batting (15 cm square)</li>
        <li>Cotton thread</li>
        <li>Velcro</li>
        <li>Sewing Machine</li>
        <li>Needles & Pins</li>
        <li>Scissors</li>
        <li>Rotary Cutter</li>
        <li>Quilting Mat & Ruler</li>
        <li>Iron</li>
        <li>Ironing Board</li>
        </ul></p>
    <p>SKILLS</p>
    <ul>
    <li>When appropriate, specific techniques are hyperlinked to tutorials. To create this project, you will need to crochet or embroider basic stitches, hand sew, use a sewing machine (though you could substitute hand sewing if you are patient), solder electronics, and follow along some basic circuitry and programming.</li>
  </ul>
  </div>
</div>

</div>

<!-- FABRCIATION --- SEWING -->
<div class="container-fluid bg-2">

<div class="row">
  <div class="col-sm-3">
    <p>ASSEMBLE THE GLOVE</p>
    </div>
  <div class="col-sm-9">
    <p>Follow <a href="https://samjo4788.github.io/PHYSCI-70/FinalProject/GlovePattern/indexPattern.html">this method for making patterns and constructing gloves</a> for the right and left hands. Or, buy gloves. If you do the latter, you’ll need to attach two channels of elastic fabric to the index and middle fingers of the right hand.</p>
  </div>
</div>

<div class="row">
  <div class="col-sm-3">
    <p>SEW THE FINGER PADS</p>
    </div>
  <div class="col-sm-9">
    <p>On the right hand glove only there are three finger pads. Put on your glove and hold the index and middle fingers against the thumb in a pinching fashion. Note where the fingers touch. Mark these with a piece of tape and remove the glove.</p>
    <p>There are many ways to create finger pads. <a href="https://www.instructables.com/Etextile-VR-Gloves-for-Vive-Tracker/">This tutorial</a> is useful if you want to make finger pads from conductive fabric. My method will explain how to do this using crochet and embroidery of conductive thread. In both cases, the finger pads will be attached to the glove as appliqué.</p>
  
    <p>Crochet the two finger pads:<ul>
      <li>These two pads are smaller than the thumb. You will create each the same, so do this twice. Using 2-ply conductive thread, draw a length of thread and quadruple it. Take the four strands of thread and loosely spin them together. This will serve as your “yarn”. With a crochet hook, crochet a <a href="https://www.youtube.com/watch?v=_yNj1ZGy0PA">magic loop</a> of 7 stitches and then single crochet 1 round. Add rounds if you need a larger finger pad. Finish by pulling the strand through the last loop and using a needle to weave in the ends. Trim. Note: Cut conductive thread with sharp scissors to mitigate fraying.</li>
      </ul></p>

    <p>Embroider the thumb pad:<ul>
        <li>Because the thumb pad is larger than the finger pads, it was easier for me to embroider the pad. Using a scrap piece of cotton fabric that is larger than what you need for the finger pad, trace the size of the finger pad you need to cover the thumb with a pencil on the fabric. This will be your guide for the shape of the finger pad. I recommend this be a rectangular shape to be sure that it meets both the index and middle finger, with room for moving about (your fingers won’t hit your thumb in the same place every time). Starting on the left side, embroider a row of stitches using the <a href="https://youtu.be/HjoODQJiwk0">satin stitch</a>, then continue in the other direction to make a second row. Repeat this until you have four rows, or the number of rows you need to cover the area of the finger pad (you’ll see my satin stitches aren’t particularly neat or the same size, but that doesn’t matter as long as they touch and cover the area). When the area of the pad is covered, sew into the satin stitch and trim the tail. Trim the cotton fabric around the finger pad. It may fray a bit, but don’t worry. </li></ul></p>

    <p>Appliqué the finger pads:<ul>
        <li>Replace the tape that you attached to your glove with the appropriate finger pad and hold in place with a pin or two. Insert a thimble into the finger tip you plan to sew and use that to push the needle against. Attach the finger pad to the finger tip using the satin stitch, stitching the edge of the finger pad to the glove fabric. Do this for each of the two finger pads and the thumb pad.</li></ul></p>

    <script src="https://cdn.jsdelivr.net/npm/publicalbum@latest/embed-ui.min.js" async></script>
    <div class="pa-gallery-player-widget" style="width:100%; height:480px; display:none;"
  data-link="https://photos.app.goo.gl/xWeFhpFeSrztAaDs5"
  data-title="ps70 - Finger Pads"
  data-description="6 new photos added to shared album">
  <object data="https://lh3.googleusercontent.com/2uWZ12mUezH4mllnm7Slu612qxZ76M6TSS9DAWSm7XFzaVZB5fYpRj7EUi_7PKQZh3t2R_RmLJ2GMFDyyiDOe4I0LoaAANdTWq-aE78j4iWd9GZW9tG0w1OegXeO4wiwgrULvTtcGNQ=w1920-h1080"></object>
  <object data="https://lh3.googleusercontent.com/ZOkzd2Qq2IW_GcvByx9VFYPB3QXNW-binyKq5LlYMt4Ag7PD9h5L91PuaZO0_HV6lCFZ6Bluk2AWWzLxIODtwwAYa_1g1leSjUE70qnyX-1-cID5BtQeQwjf3KPWaJPo0yzhwo1sB08=w1920-h1080"></object>
  <object data="https://lh3.googleusercontent.com/43Os3gnPwT3n9z0Rt6MjDWDlI10f_P1rxddr4Noqq6ENaaj5-MI8q-JUx5ti3LpqxjaWzTWCBr-eDIwsLAtjPn1QQIJvz76Y4187ksCyuWOSIStH9YzMyXA8cvPbg7uqKYaK9uX93r8=w1920-h1080"></object>
  <object data="https://lh3.googleusercontent.com/7JDJATcFTiGEQcz8sQnuL6s8JzPfwYbkQAmqTBH0m4vFEemAE1X5tJ_6SH3kapQ232spsl0wIqzx5ZWohMHno9q6VShYnkMMIu9DI7Qquj0WCA4h7tzOP5EK5gCes_VW6fbfSWSdjIk=w1920-h1080"></object>
  <object data="https://lh3.googleusercontent.com/D5XxFTMrdNhxTRxxiandcBBNoxw-LaqQPgE978pYBxCVcoYUQGpY2dKmJJUWDphbrv4JcvToPWnamijDLK_kfprtq19O-XgTXda9o4cShSJy8K0IiXF98leSuc1JFmP4LFjnBlyUqEM=w1920-h1080"></object>
  <object data="https://lh3.googleusercontent.com/e6wx-gTvbi-aAC4YjJrrU3eqReqzSOYaglGUgWVfVBVTKrc6iKqXTA-cVzt6Gg_IHf9xMHMyyezNrqpbAcb19g0lc3C0YKhiOZ7AdHw7yek48yYdBe5Yvxc0N2f16xeEonoCZwyScQY=w1920-h1080"></object>
</div>

  </div>
</div>

<div class="row">
  <div class="col-sm-3">
    <p>CREATE THE MICROCONTROLLER BASES</p>
    </div>
  <div class="col-sm-9">
    <p>Create the fabric base:<ol>
      <li>Cut four 5.5cm x 8 cm pieces of cotton fabric (on the grain) and two 2.5cm x 5cm pieces of felt or batting.</li>
      <li>Center each felt piece on a piece of cotton and sew a basting stitch down the middle to keep the felt pieces in place.</li>
      <li>For each pair of cotton pieces, place wrong sides together and pin (the felt should be facing out).</li>
      <li>Stitch around the edge using a machine, leaving one of the short ends open and being careful not to stitch over the felt. </li>
      <li>Flip each piece inside out.</li>
      <li>Fold the edges of the open end in and stitch to close.</li>
      </ol></p>

    <p>Attach to the gloves:<ol>
      <li>Put on each glove and carefully mark with pins where the corners of your square pillow will need to be placed.</li>
      <li>Remove glove and stretch over a piece of cardboard or a cup and pin the pillow in place.</li>
      <li>Hand stitch using pillow to the glove using the <a href="https://www.youtube.com/watch?v=rZ_wVC84UmM">backstitch</a>.</li>
      </ol></p>

      <script src="https://cdn.jsdelivr.net/npm/publicalbum@latest/embed-ui.min.js" async></script>
<div class="pa-gallery-player-widget" style="width:100%; height:480px; display:none;"
  data-link="https://photos.app.goo.gl/JzywDGrCG3QD2Ltu6"
  data-title="ps70 - Microcontroller Pillow"
  data-description="5 new photos added to shared album">
  <object data="https://lh3.googleusercontent.com/2i7M-ay4qxwkDtbfgJF_9l6gmJAYjLoXUsqtYeGtchJmRgH8ALtySVzDtdkKjsw4ufplw2PdHpNp_0p3iToBLnyfzZNBpYvJbIEArUa1NCRK0nG2BiShdzJfkcYyM6-pRfx_fxAfibY=w1920-h1080"></object>
  <object data="https://lh3.googleusercontent.com/VC6FMSTYiILtb0eoBytNXDOXp7Jzrnia2oy70eA84kyYcbfI6dECK_pzjRx4RxeFVEt7KU_bp2gMnXjkXm5WIi0EYczZ6pHed0S2Os6DaY4MPvSLZoGHK1-JciofXWZpF5pbohiLgR4=w1920-h1080"></object>
  <object data="https://lh3.googleusercontent.com/z4SPuKsyFnjcN0GdKBfU2ZkPknyKjAkuLrkxTC9Ao7aOMcPogKMbGf3cgHbTXLmppso6XhrKT-l6uE8_Et7ah6GaSHsHf0JLhKH0RY7fCg8Rpv70SJ9wvtXcLoDtAiwr0ovupFajZ9Y=w1920-h1080"></object>
  <object data="https://lh3.googleusercontent.com/w-LsvKqD8mVxb1wnG4BOo2EdeKBZjUep-_of-b6DUTCWOGONDKNMKTvvJIPbspqVdfAPCvC_YD9Url53kMPDVygdl7SaJ4bc-6bLwkYPK_yGn60g7_ewZ5Qf_avxzvtTku9d5zEzthQ=w1920-h1080"></object>
  <object data="https://lh3.googleusercontent.com/VLmL0rddYzYvoegdE5Gd0QJeYRLz2K_MgFgQv0jwHy71XpidI65Xa1MB8D3Mw9mVPkIltncpHI6avy1AWV_SvglBe8fg1Ve7gZCtN6PXKiLqtfoD1SjFJNF7VtyYxsSAQUYoar2JBVg=w1920-h1080"></object>
</div>

  </div>
</div>

<div class="row">
  <div class="col-sm-3">
    <p>CREATE THE WRISTBAND</p>
    </div>
  <div class="col-sm-9">
    <p>I actually did this step AFTER I assembled my circuitry onto my glove, which was a mistake. I ended up overhandling the glove and as I quickly discovered, it is not very durable. So if I did it over again, I would make the wristbands after attaching the micrcontroller "pillows." The wristband helps to keep the glove in place and can also serve as a future location for an external power supply.</p>
    <p><ol>
      <li>Cut two pieces of cotton fabric 24.5cm by 9.5 cm each.</li>
      <li>Fold and press lengthwise, iron the crease. Open and lay flat, right side up.</li>
      <li>Cut 3 cm of hook-side velcro and position velcro 2 cm from the right edge and 1 cm from the upper edge.</li>
      <li>Cut 5.5 cm of loop-side velcro and place 1.5 cm from bottom left edge and 1.5 cm from bottom edge.</li>
      <li>Repeat for the other cuff, but reverse the positions of the velcro pieces.</li>
      <li>Sew each piece of velcro down.</li>
      <li>With wrong sides facing, pin and sew each wristband along the long edge and one short edge (0.25 inch seam allowance).</li>
      <li>Trim the corners and flip inside out. Press the seams.</li>
      <li>Fold in open end, press and topstitch to close.</li>
      <li>Pin the wristband to the cuff of the glove, lining up the hook-side velcro to the inside edge of the wrist opening.</li>
      <li>Hand stitch the wristband onto the glove using the backstitch.</li>
    </ol>
    <p>

      <script src="https://cdn.jsdelivr.net/npm/publicalbum@latest/embed-ui.min.js" async></script>
      <div class="pa-gallery-player-widget" style="width:100%; height:480px; display:none;"
        data-link="https://photos.app.goo.gl/cHGjdBoYWuGdzmPd9"
        data-title="ps70 - Wristband"
        data-description="5 new photos added to shared album">
        <object data="https://lh3.googleusercontent.com/F8wzeuckaKGHod2q01DeTkBZ9tQC6VUbR1zOlxdfpjXDANe5ZZxl1DFi0EylluPQy_NROn2OmlR2LTw0UxcEzbHqtHwwkX-7gvQxhuI8Au7AyMUCdkEFI0Fdgw483P-RGBWKIWQ5CAM=w1920-h1080"></object>
        <object data="https://lh3.googleusercontent.com/3B-DP7utV_A1mznEmBBwiyYZ50RUxNBjFriFlscCYVdvsYBzOAZ100KnVcncyPZcqEhb6qIyYl7KQYG50uPTLkkikqWqebd26uJi5_j02FTqiTBpDL5EVvUhn4vjsg2sRTt8mr05FXw=w1920-h1080"></object>
        <object data="https://lh3.googleusercontent.com/2gUNTWiKcHiIqk6KDFomzoW2mnCfI4WM6NVvWD-aJ9-4aCJIeC-7XLK_SwtZSrrFHvCYLkDAftO_9gTNUFy6oDHfyw1bgZm1-DQYX6D-4YH3BTc6YreDHPtY3Giv95kb3m4zS9x6C5g=w1920-h1080"></object>
        <object data="https://lh3.googleusercontent.com/gahSeOEzuyYMtUzPW9WGyz1OHw1LggnBY6ZxOuHO0pK-6u6dk7iKtA1wsY31gbWt9SMBE9uch-5Fnf7tP_Uqpm1MA6iNaRl3qCSWLglZme1QSqVVTttf4YeIrFloHmHKxpmahXpfk-0=w1920-h1080"></object>
        <object data="https://lh3.googleusercontent.com/4siQxsteT43O-U3UA8FhVSIjcFTQShvD6FPD8FmrSIYV70oP9ab8PcnpSLINqHwM6j58dMyXOJ4Onj5vzhKEtfgQbSLm5WsiSnapQrj4cs-Ih0GHjDeuspXBgxLBWnGYhTeeTBuTVxg=w1920-h1080"></object>
      </div>

  </div>
</div>

</div>

<!-- FABRICATION -- CIRCUITRY -->
<div class="container-fluid bg-7">
<div class="row">
  <div class="col-sm-3">
    <p>CREATE THE FLEX SENSORS</p>
    </div>
  <div class="col-sm-9">
    <p></p>

    <script src="https://cdn.jsdelivr.net/npm/publicalbum@latest/embed-ui.min.js" async></script>
    <div class="pa-gallery-player-widget" style="width:100%; height:480px; display:none;"
      data-link="https://photos.app.goo.gl/7aBgMvVpP96LAWhM6"
      data-title="ps70 - Flex Sensors"
      data-description="8 new photos added to shared album">
      <object data="https://lh3.googleusercontent.com/hFqPvT3Uv_YSbjr_nZcYZL1mi6PlmpqeBXMhn9R5ba5mbvvPLhboiSYjYHRbJulQaVnKitUaqkTzk1TCvoK3SyvThK-zXsLjZ_jIA_cXMXNpDOwwjuJ6A2TI9mBfK3lXi23c0QWhsPU=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/VbEo4kHXepTXjUyWS51iAMznM0mfmTTZClDOnLqo6mfPF0dNOnrYa0azyBZ_UHo0Tai6qvn2JHTFKUQyliTJN54zgqn1kY6lQ5VD2QtyytxFCg0TJmt_O_82y4T_JvwbMFetcQ6C8Mo=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/ZfcK60w_4ikOjz8Y5tPm3ASRnk7NpfH3jhItYFWU8nQCJP2D5vWT_nBB6wKA4oVf_Z1KYLBvjWS4XdQt1Id2EPxC1UCAk0PgTT-lnhNOtSIalitzVyKufoIdmGLO3JLwuYqmOt5jIH0=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/vOHGh7QMrgcY3wrVXh4P4zKKi_wbylv3hzB0xHhwzS650LnLrkbkUKgnIVAg4dDGYdPMeOXmk4WP0vLPCfFqN01lt0BmzzJToCsEk6OgaHDUorwlwMjOikSNkONC1GrJoOXxNBnwR4Y=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/DTVoVXrgxOEwqRzWgji-HAlI0f5lX1hYZL9rzn2MtTVt8AwQlhJ3JnaSvGuWov5A95iwI8sOIjehv1BhUMYo1hAls4s7lFFiNpIWoZvIcBiYlp8b4DInj5MlHggYzAtzh9Cd8ts8zoM=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/eHghwIfDyjiKuU3jmKFlMzZdN1B3zOdrrbrpEXGT6YgVgyfsWFtk90snLvmAUTlNHhf4lG38G6oy0VnEd9kHMiwwHqky9bY_heyEjH0T9dZf8HDFgQFs5KMt9mI7BXeP5ayxY1wtVtI=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/BpdOpFO0Ad4Vv3REW6Qn9YznxL-nAiR3nxxJsytBM-ImnlXL3gMCXiacB0BStWs6MP6zxXkR2qG5lOAmcWug92Cxjh-pvBMvobsYhK6H9lmuMvrILkhSg6ez73Vwpw7mWdQffmS_DlE=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/cQF52k2lBOyw01mT2O4jYwi4u4G6PuIxmi1KhYUZ14LBRbqhqn4ty9Y2OL3wvDLLCp4_zT9DVvw_CULgUZK5AmoBUcOjxKChm4zvguSk2KvKp8JfaVyZLqlws83ko2l06H5b8WUhbMc=w1920-h1080"></object>
    </div>

  </div>
</div>
</div>

<div class="row">
  <div class="col-sm-3">
    <p>ARRANGE THE CIRCUITRY AND TEST</p>
    <!-- NEED TO MAKE DIAGRAMS -->
    </div>
  <div class="col-sm-9">
    <p></p>
  </div>
</div>
</div>

<div class="row">
  <div class="col-sm-3">
    <p>SOLDER</p>
    </div>
  <div class="col-sm-9">
    <p></p>

    <script src="https://cdn.jsdelivr.net/npm/publicalbum@latest/embed-ui.min.js" async></script>
    <div class="pa-gallery-player-widget" style="width:100%; height:480px; display:none;"
      data-link="https://photos.app.goo.gl/EnNeQzYPY9omi1XE9"
      data-title="ps70 - Soldering"
      data-description="7 new photos added to shared album">
      <object data="https://lh3.googleusercontent.com/Zw4Rt8yldQYpWRmdxBELw0IDynowgrJZtgntRnoT-y7IQETq2cjdRCLtlO5DhwfOhHE9ysdyENI6lksmOIC6p-jystE0HPt-HtfrJVBu6dPQp7odtWNu6zaxt4qcd9L_Lhw8moelFIs=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/KpjhWxRulCe3aDyX6UlN6L_rB8aD-ub_56e8MixfmoyQYI61lhFDYmpqUsbYQaLLyVvyeqiSuZXF_4ZOQbBz0DzqbqVHXrLRsuPGVPchUnl7Q5e56-rJRORxT9DXg7guMS5ZvUD1JPQ=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/sYB1-F87SkZK7A3U0J09-kGX6d2suMFcJT2zn39_U-RRkXmjOblKA1mfVhNzigWvmIAhb23mA-X-akbM_qZ4rpV8_5eREOJxwWKZj7kqSpn1wYZ1vpjoUUXVegVJHzCGGayLk-BtNXM=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/-SWtKya4V-n9fv5ePFhrw2HWsDgruhUUTRv1_79mB9YYyvQ669IX3-ne4EEYdS4AO2WSN2soXhkLhwmrRlMbcqHi9dnrHxyfp6tIk8nzJrcY1NMhpCn7iwuiqpt4tvHIxcm-CxEe12I=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/d1a6GRYIZf20_apAbMI9MZFDNDz4Vd1wxHLsaHDLbvgUuL6KjZrS8d7a173RA43zFdiR_Hhk8jHOxlC59XH-XypJdlz0iAh7bWYbFAkM-iTCC7x8OeXfzSlFsNxzxzGG8kxOKe3b1Ac=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/nGrZATDw68wOtbUWaOrmqsd9hGa-gRwwIxEjpKaf2LZHL0KOY9oee6uoOswDE0l8CsDawWzOLg276tyFRdq6L_5fhoCNO7PtI43DtPdaBsC71JQLf2pRpOf68E2yMqdno5LZ0AlS9mQ=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/7SraqicMaitNDs-T0cGag5s2Nmt8E1ztQIfHLv7ClM7F8hurTcno5i5EzQ-2B_qFpwEwR5CnIXrzXblwsC2Cbawmv_nHjcg4g6nYKRVQI7FwXvn07f9nOb9Ogvj4WeKbEj6q6eMlCZ4=w1920-h1080"></object>
    </div>

  </div>
</div>
</div>

<div class="row">
  <div class="col-sm-3">
    <p>ATTACH CIRCUITRY TO GLOVE</p>
    </div>
  <div class="col-sm-9">
    <p></p>

    <script src="https://cdn.jsdelivr.net/npm/publicalbum@latest/embed-ui.min.js" async></script>
    <div class="pa-gallery-player-widget" style="width:100%; height:480px; display:none;"
      data-link="https://photos.app.goo.gl/9SqJZyvP3xvTLC469"
      data-title="ps70 - Assembly Circuitry and Glove"
      data-description="5 new photos added to shared album">
      <object data="https://lh3.googleusercontent.com/BeVpujuzohb8oWMuCmCcZ0PzpYvGitt6yzpnQQpxJJ95lD5uAgHh1tyuPHe0_kD3zBXqhdX6t3hwEhGx4jeARBJYhmUxfhbvTe862PJ4cCh2lH5jYHC2xUrhUIDLo5LAAcrV8wDTsGo=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/Y_OyZoUxOQaikEHXUOrgsENOjiJ-XdemcYnnF8LkyQCv1z8i-98ex1QefVylirPE5TuoahFYTLQBr0l2eivfDyBJAV8h0vyyuqmHKqvNQd36UJnjclMpaHNoXvKY6vqszw8UW9HtThA=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/bKPxmx9tC6TjMELP3b4lc6kQN8du6fa9PKLoUqSKutxgXFzBtb0-NMhwh1xFMLEnIsPGL0nYysmPqKsFrhVUTblEbleEFaRnefbHfdKVLvLC0WKplzhzg0OIA3RFoanDfZSPuYDAdsQ=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/e6_QzH6UIP43JY2hgUWaNqvDi-DBhahx5tDW0BmErtGpa28ZulRR1fXhExxYNhC_WHnAa7AP3JiHQcMgJt1fpPSMv3lGO-dwmKwMdN7olbfWVyGYHtn8JkNMfmpqmpf5mUpgkGyJTtA=w1920-h1080"></object>
      <object data="https://lh3.googleusercontent.com/5DvPFqPLcnJizSDPUn1DP4XDXMPFh_1SQaZW-CIVEdYSt-G6gQWQKHusVThQRdRYff_oxaHdLUgUjM9E1vUSf7TymeMQrRU8mfKzqlM2kR3LtYThFJf6rPJ1JBpJaGB2Ql3Nm3KepUc=w1920-h1080"></object>
    </div>

  </div>
</div>
</div>

<!-- FABRICATION -- CODE -->
<div class="container-fluid bg-2">
<div class="row">
  <div class="col-sm-3">
    <p>CODING THE MICROCONTROLLERS</p>
    </div>
  <div class="col-sm-9">
    <p>I needed two sets of code for each glove. The left hand glove needed to be coded for IMU and proximity information and the right hand glove needed to be coded for IMU, proximity, two flex sensors, and the tap circuit. I started by assembling each coding component separately and then I stitched the code together. Much of this code I adapted from Arduino IDE examples and various tutorials (see the Proposal & Development page for more information about that process).</p>
    
    <div class="row">
      <div class = "col-sm-3">
        <p>IMU code</p>
      </div>
      <div class = "col-sm-9">
        <p>I derived an IMU code sketch from this ITP tutorial. It uses the Madgwick filter to calculate pitch, yaw, and roll out of the accelerometer and gyroscope data.</p>
        <p><pre><code class="language-arduino">
          #include "Arduino_LSM9DS1.h"
            #include "MadgwickAHRS.h"

            //initalize a Madgwick filter:
            Madgwick filter;
            //sensor's sample rate is fixed at 114 Hz:
            const float sensorRate = 114.00;

            //values for orientation:
            float roll = 0.0;
            float pitch = 0.0;
            float heading = 0.0;

            void setup() {
              Serial.begin(9600);
              //attempt to start the IMU:
              if (!IMU.begin()) {
                Serial.println("Failed to initialize IMU");
                //stop here if you can't access the IMU:
                while(true);
              }

              //start the filter to run at the sample rate:
              filter.begin(sensorRate);

            }

            void loop() {
              //values for acceleration and rotation:
              float xAcc, yAcc, zAcc;
              float xGyro, yGyro, zGyro;

              //check if the IMU is ready to read
              if(IMU.accelerationAvailable() && IMU.gyroscopeAvailable()) {
                //read accelerometer and gyrometer:
                IMU.readAcceleration(xAcc, yAcc, zAcc);
                IMU.readGyroscope(xGyro, yGyro, zGyro);

                //update the filter, which computes orientation:
                filter.updateIMU(xGyro, yGyro, zGyro, xAcc, yAcc, zAcc);

                //print the heading, pitch, and roll
                roll = filter.getRoll();
                pitch = filter.getPitch();
                heading = filter.getYaw();
                
              }

                //print the filter's results:
                Serial.print(heading);
                Serial.print(",");
                Serial.print(pitch);
                Serial.print(",");
                Serial.println(roll);
            }
        </code></pre></p>
      </div>
    </div>

    <div class="row">
      <div class = "col-sm-3">
        <p>Proximity</p>
      </div>
      <div class = "col-sm-9">
        <p>I used the Arduino example sketch for the on-board gesture sensor in the Arduino Nano 33 BLE Sense. The proximity sensor is basically a fancy photoresistive sensor.</p>
        <p><pre><code class="language-arduino">
                  /*
          APDS9960 - Proximity Sensor

          This example reads proximity data from the on-board APDS9960 sensor of the
          Nano 33 BLE Sense and prints the proximity value to the Serial Monitor
          every 100ms.

          The circuit:
          - Arduino Nano 33 BLE Sense

          This example code is in the public domain.
        */

        #include <Arduino_APDS9960.h>

        void setup() {
          Serial.begin(9600);
          while (!Serial);

          if (!APDS.begin()) {
            Serial.println("Error initializing APDS9960 sensor!");
          }
        }

        void loop() {
          // check if a proximity reading is available
          if (APDS.proximityAvailable()) {
            // read the proximity
            // - 0   => close
            // - 255 => far
            // - -1  => error
            int proximity = APDS.readProximity();

            // print value to the Serial Monitor
            Serial.println(proximity);
          }

          // wait a bit before reading again
          delay(100);
        }
        </code></pre></p>
      </div>
    </div>

    <div class="row">
      <div class = "col-sm-3">
        <p>Tap Circuit</p>
      </div>
      <div class = "col-sm-9">
        <p>The tap sensing code reads when the index finger, middle finger, both fingers, or neither finger were making contact with the glove. It does this using different resistor levels as thresholds. I had also wanted to try and incorporate a duration reading, such that whenever the state of the tapping changed, the micrcontroller would produce a time differential. Unfortunately, I was never able to get that code sketch to work.</p>
        <p><pre><code class="language-arduino">
          // circuit has two switches. "index" has a 4.7kOhm resistor, "middle" has a 10kOhm resistor; thumb has voltage divider of 1kOhm.

          unsigned long startMillis;  //some global variables available anywhere in the program
          unsigned long currentMillis;
          const unsigned long period = 1000;  //the value is a number of milliseconds
          int tap = A2;

          void setup() {
            // put your setup code here, to run once:
            Serial.begin(9600);
            pinMode(tap, INPUT);
          }

          void loop() {
            // put your main code here, to run repeatedly:
          analogRead(tap);

          if(analogRead(tap) >= 200) {
            Serial.println("both");
          }

          else if(analogRead(tap) > 10 && analogRead(tap) < 100) {
            Serial.println("middle");
          }
          else if(analogRead(tap) < 200 && analogRead(tap) > 100) {
            Serial.println("index");
          }

          else if(analogRead(tap) < 10) {
            Serial.println("none");
          }
          }
        </code></pre></p>
        <p><a href='./TapState_Function.ino' download >Download the code with the faulty function.</a></p>
      </div>
    </div>

    <div class="row">
      <div class = "col-sm-3">
        <p>Flex Sensors</p>
      </div>
      <div class = "col-sm-9">
        <p>I used the flex sensor code that <a href="https://aspartate.github.io/personal_website/blog/week-11-usb-communication/">Andrew created</a> and built that out to read two flex sensor readings.</p>
        <p><pre><code class="language-arduino">
          const int flex1 = A4;
          const int flex2 = A6;
          int valflex1 = 0;
          int valflex2 = 0;

          void setup() {
            pinMode(flex1, INPUT);
            pinMode(flex2, INPUT);
            Serial.begin(9600);

          }

          void loop() {
           valflex1 = analogRead(flex1);
           valflex2 = analogRead(flex2);
           
           Serial.print(valflex1);
           Serial.print('\t');
           Serial.println(valflex2);

           delay(10);

          }
        </code></pre></p>
      </div>
    </div>

    <div class="row">
      <div class = "col-sm-3">
        <p>Integrating the Code</p>
      </div>
      <div class = "col-sm-9">
        <p>Once I had the individual code pieces, it was not difficult to stitch them together.</p>
        <p><a href='./DanceGlove_Left.ino' download >Download the code for the left hand (IMU and Proximity)</a></p>
        <p><a href='./DanceGlove_Right.ino' download >Download the code for the right hand (IMU, Proximity, Tap, and Flex Sensors).</a></p>
      </div>
    </div>

  </div>
</div>

<div class="row">
  <div class="col-sm-3">
    <p>P5 COMMUNICATION USING BLE</p>
    </div>
  <div class="col-sm-9">
    <p>I built upon what I learned from Weeks 11 and 12 about using BLE to communicate between a microcontroller and p5. I decided to create code for p5 that focused entirely on the finger sensing, since I had already experimented with visualizing IMU data in those previous weeks. I modified the code that I had used before and after some frustrating debugging efforts, I was able to get the code to work. Like previously, I used the Chrome Web Server to load the p5 visualization from my own repo.</p>
    <p>Some important changes included changing the BLECharacteristic nature from "Float" to "Int" (this had to happen on both the Arduino sketch and the p5 sketch). I also eliminated the threshold reading that parsed the tap information. I did this so that I could get more interesting results in p5, plus p5 seemed to have issues understanding that bit of data as it was being sent.</p>
    <div class="row">
      <div class="col-sm-6">
        <p>Arduino Code</p>
        <p><pre><code class="language-arduino">
          //This code collects data from the thumb/tab sensor,
          // and the two flex sensors on the index and middle fingers.
          // This code is meant for the right hand glove for the fingers


          #include "ArduinoBLE.h" //include the BLE library

          //values for tap sensor
          const int tap = A2; // pin assigned to read taps via thumb
          int valtap = 0;
          //int tapID = 0;

          //values for flex sensors
          const int flex1 = A4; // pin assigned to read flexing of index finger
          const int flex2 = A6; // pin assigned to read flexing of middle finger
          int valflex1 = 0;
          int valflex2 = 0;



          //BLE Service
          BLEService danceService("19B10010-E8F2-537E-4F6C-D104768A1214"); // create service
          // a characteristic for each of the accelerometer values x, y, z
          BLEIntCharacteristic valtapCharacteristic("19B10013-E8F2-537E-4F6C-D104768A1214", BLERead | BLENotify);
          BLEIntCharacteristic valflex1Characteristic("19B10014-E8F2-537E-4F6C-D104768A1214", BLERead | BLENotify);
          BLEIntCharacteristic valflex2Characteristic("19B10015-E8F2-537E-4F6C-D104768A1214", BLERead | BLENotify);

          void setup() {
            Serial.begin(9600);

            //declare pin modes
            pinMode(tap, INPUT);
            pinMode(flex1, INPUT);
            pinMode(flex2, INPUT);

            //attempt to start BLE:
            if (!BLE.begin()) {
            Serial.println("starting BLE failed!");
            }

            BLE.setLocalName("DanceGlove_Fingers");
            BLE.setAdvertisedService(danceService);
            danceService.addCharacteristic(valtapCharacteristic);
            danceService.addCharacteristic(valflex1Characteristic);
            danceService.addCharacteristic(valflex2Characteristic);
           
            // add the service
            BLE.addService(danceService);

            // init all values to 0
            valtapCharacteristic.writeValue(0);
            valflex1Characteristic.writeValue(0);
            valflex2Characteristic.writeValue(0);

            BLE.advertise();
            Serial.println("Bluetooth device active, waiting for connections...");
           

          }

          void loop() {

            //poll for BLE events
            BLE.poll();
            

            //variable to tell if data was requested over serial;
            bool ping = false;

            //values for tap and flex sensors:
            valtap = analogRead(tap);
            valflex1 = analogRead(flex1);
            valflex2 = analogRead(flex2);


            //if you get a byte in the serial port, send latest data:
            while(Serial.available()) {
              Serial.read(); 
              ping = true; 
              }
            if (ping) {

              //print the results:
              Serial.print(valtap);
              Serial.print(",");
              Serial.print(valflex1);
              Serial.print(",");
              Serial.println(valflex2);

              }

            //update the characteristics if they have changed by more than 1:
              if (abs(valtapCharacteristic.value() - valtap) > 1) {
              valtapCharacteristic.writeValue(valtap);  
              }
              if (abs(valflex1Characteristic.value() - valflex1) > 1) {
              valflex1Characteristic.writeValue(valflex1);  
              }
              if (abs(valflex2Characteristic.value() - valflex2) > 1) {
              valflex2Characteristic.writeValue(valflex2);  
              }

          }
        </code></pre></p>
      </div>
      <div class="col-sm-6">
        <p>p5 Sketch</p>
        <p><pre><code class="language-arduino">
          // orientation variables, right
          let valtap = 0.0;
          let valflex1 = 0.0;
          let valflex2 = 0.0;


          /* initialize services we're looking for*/
          //right
          const serviceUuid = "19b10010-e8f2-537e-4f6c-d104768a1214";
          const characteristicsUUID = {
            valtap: "19b10013-e8f2-537e-4f6c-d104768a1214",
            valflex1: "19b10014-e8f2-537e-4f6c-d104768a1214",
            valflex2: "19b10015-e8f2-537e-4f6c-d104768a1214",
          }

          // Declare BLE Object + characteristics
          let myBLE;
          let valtapCharacteristic;
          let valflex1Characteristic;
          let valflex2Characteristic;

          function setup() {
            createCanvas(720, 500);
            myBLE = new p5ble();
            background("#FFF");
            // make a button and give it a callback
            const connectButton = createButton('Connect and Start Notifications')
            connectButton.mousePressed(connectAndStartNotify);

          }

          function connectAndStartNotify() {
            myBLE.connect(serviceUuid, gotCharacteristics);
            //myBLE.connect(gattServiceUuid, gattCharacteristics);
          }

          function gotCharacteristics(error, characteristics) {
            if (error) console.log('error: ', error);
            console.log(characteristics[1].uuid);
            for (let i = 0; i < characteristics.length; i++) {
              if (characteristics[i].uuid == characteristicsUUID.button) {
                buttonCharacteristic = characteristics[i];
                myBLE.startNotifications(buttonCharacteristic, handleButton);
              } 
              else if (characteristics[i].uuid == characteristicsUUID.valtap) {
                valtapCharacteristic = characteristics[i];
                myBLE.startNotifications(valtapCharacteristic, valtapCallback);
              } 
              else if (characteristics[i].uuid == characteristicsUUID.valflex1){
                valflex1Characteristic = characteristics[i];
                myBLE.startNotifications(valflex1Characteristic, valflex1Callback);
              } 
              else if (characteristics[i].uuid == characteristicsUUID.valflex2) {
                valflex2Characteristic = characteristics[i];
                myBLE.startNotifications(valflex2Characteristic, valflex2Callback);
              } 
              else {
                console.log("nothing");
              }
            }
          }

          function valtapCallback(data) {
            console.log('valtap: ', data)
            console.log(Number(data))
            valtap = data;
          }

          function valflex1Callback(data) {
            console.log('valflex1: ', data)
            valflex1 = data;
          }

          function valflex2Callback(data) {
            console.log('valflex2: ', data)
            valflex2 = data;
          }

          function draw() {
            // update the drawing:
            background(255); // set background to white
            
            //index finger triangle
            stroke(0);
            fill(valtap/2,valtap, 100);
            triangle(180,300,270,valflex1,360,300);

            //draw middle finger triangle
            stroke(0);
            fill(100, valtap, valtap/2);
            triangle(360,300,450,valflex2,540,300);
          }
        </code></pre></p>
      </div>
    </div>
  </div>
</div>

</div>

<!-- NEXT STEPS-->
<div class="container-fluid bg-7">
  <p><h3><b>NEXT STEPS</b></h3></p>
<div class="row">
  <div class="col-sm-3">
    <p>ISSUES TO BE RESOLVED</p>
    </div>
  <div class="col-sm-9">
    <p>Proximity sensor
      <ul>
      <li>While the proximity sensor was useful for collecting data for the machine learning component, it unfortunately did not provide the intended results for indicating which hand was “leading”. This was because of the microcontroller placement. One solution Ould be adjust the microcontroller placement on the glove to take advantage of this sensor. Another solution would be to add a photo resistive sensor to one of the fingers on each hand.</li>
    </ul></p>
    <p>Durability
      <ul>
      <li>Durability was a major issue for me throughout this process. Every time I used the right hand glove, I usually damaged it. The primary issue was the the 30AWG wire was breaking off just before the solder joins. I believe that this is a combination of issues. The first is that the 30AWG wire was significantly more flexible than the solder joints, thus it had much greater freedom of movement and this put strain on the wire at the join point. The second is that the wire was so thin that it cannot withstand much twisting. A third issue was that my heat shrink was not quite the right diameter to shrink to the 30AWG size. In the future, I would use stranded wire and a tighter insulation method (electrical tape seemed to work for my repairs, stabilizing the point where the wire meets the soldered joint).</li>
      <li>I also would use conductive fabric for the finger pads instead of conductive thread. Conductive fabric will create a smoother surface against which the fingers can move, and it also would be a more elegant approach.</li>
    </p>
  </div>
</div>

<div class="row">
  <div class="col-sm-3">
    <p>MACHINE LEARNING</p>
    </div>
  <div class="col-sm-9">
    <p>Unfortunately, I didn't have the time to learn about and experiment with a machine learning model. I realized as I was working on the coding aspect of the project that this would have to be something I commit serious time to going forward. It will be exciting to see the possibilities!</p>
  </div>
</div>
</div>




</body>
    

<!-- Footer -->
<footer class="container-fluid bg-4 text-center">
  <p>Bootstrap Theme Made By <a href="https://www.w3schools.com">www.w3schools.com</a></p> 
</footer>

</body>
</html>
